/*
 Copyright (c) 2011 David Mzareulyan

 microDeferred

*/
(function(c){c.Deferred=typeof c.JQuery!=="undefined"&&typeof c.JQuery.Deferred!=="undefined"?c.JQuery.Deferred:function(){var c=[0,[],[]],e=0,h,d=null,f,g=this,i=function(a,b){if(!e){e=a;h=b;for(var f=c[e];f.length;)f.shift().apply(d,h);c=null;return g}},j=function(a,b){e==a?b.apply(this,h):e||c[a].push(b);return this};g.promise=function(a){if(!a&&d)return d;d=a?a:d?d:{};for(var b in f)f.hasOwnProperty(b)&&(d[b]=f[b]);return d};g.resolve=function(){return i(1,arguments)};g.reject=function(){return i(2,
arguments)};f={done:function(a){return j.call(this,1,a)},fail:function(a){return j.call(this,2,a)},then:function(a,b){return this.done(a).fail(b)},always:function(a){return this.then(a,a)},isResolved:function(){return e==1},isRejected:function(){return e==2}}}})(this);
